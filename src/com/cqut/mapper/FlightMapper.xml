<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cqut.dao.FlightMapper">
	<resultMap id="BaseResultMap" type="com.cqut.bean.Flight">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		<id column="id" property="id" />
		<result column="flight_id" property="flightId" />
		<result column="begin" property="begin" />
		<result column="end" property="end" />
		<result column="start_time" property="startTime" />
		<result column="reach_time" property="reachTime" />
		<result column="start_airport" property="startAirport" />
		<result column="target_airport" property="targetAirport" />
		<result column="runway" property="runway" />
		<result column="airId" property="airId" />
		<result column="first_class_capacity" property="firstClassCapacity" />
		<result column="tourist_capacity" property="touristCapacity" />
	</resultMap>
	<sql id="saleSql">
		<where>
			<if test="flightId!=null and flightId!='' ">
				and flight_id like #{flightId}
			</if>
			<if test="begin!=null and begin!='' ">
				and begin like #{begin}
			</if>
			<if test="end!=null and end!='' ">
				and end like #{end}
			</if>
			<if test="startTime!=null">
				<![CDATA[  and start_time >=  DATE_FORMAT(#{startTime}, '%Y-%m-%d %H：%i:%s')  ]]>
			</if>
			<if test="reachTime!=null ">
				<![CDATA[  and reach_time <= DATE_FORMAT(#{reachTime}, '%Y-%m-%d %H：%i:%s')  ]]>
			</if>
			<if test="startAirport!=null and startAirport!='' ">
				and start_airport like #{startAirport}
			</if>
			<if test="targetAirport!=null and targetAirport!='' ">
				and target_airport like #{targetAirport}
			</if>
			<if test="airId!=null and airId!='' ">
				and airId like #{airId}
			</if>
			<if test="firstClassCapacity!=null and firstClassCapacity!='' ">
				and first_class_capacity like #{firstClassCapacity}
			</if>
			<if test="touristCapacity!=null and touristCapacity!='' ">
				and tourist_capacity like #{touristCapacity}
			</if>
		</where>
	</sql>

	<select id="getTotal" parameterType="Map" resultType="int">
		select count(*) from flight
		<include refid="saleSql"></include>
	</select>

	<select id="find" resultMap="BaseResultMap">
		select * from flight
	</select>

	<select id="query" parameterType="Map" resultMap="BaseResultMap">
		select * from flight
		<include refid="saleSql"></include>
		<if test="start!=null and size!=null">
			limit #{start},#{size}
		</if>
	</select>

	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		select * from flight
		where id = #{id,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		delete from flight
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.cqut.bean.Flight">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		insert into flight (flight_id, begin,
		end, start_time, reach_time,
		start_airport, target_airport, runway,
		airId, first_class_capacity, tourist_capacity
		)
		values (#{flightId}, #{begin}, #{end}, #{startTime}, #{reachTime},
		#{startAirport}, #{targetAirport}, #{runway}, #{airId},
		#{firstClassCapacity}, #{touristCapacity})
	</insert>
	<insert id="insertSelective" parameterType="com.cqut.bean.Flight">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		insert into flight
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="flightId != null">
				flight_id,
			</if>
			<if test="begin != null">
				begin,
			</if>
			<if test="end != null">
				end,
			</if>
			<if test="startTime != null">
				start_time,
			</if>
			<if test="reachTime != null">
				reach_time,
			</if>
			<if test="startAirport != null">
				start_airport,
			</if>
			<if test="targetAirport != null">
				target_airport,
			</if>
			<if test="runway != null">
				runway,
			</if>
			<if test="airId != null">
				airId,
			</if>
			<if test="firstClassCapacity != null">
				first_class_capacity,
			</if>
			<if test="touristCapacity != null">
				tourist_capacity,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id},
			</if>
			<if test="flightId != null">
				#{flightId},
			</if>
			<if test="begin != null">
				#{begin},
			</if>
			<if test="end != null">
				#{end},
			</if>
			<if test="startTime != null">
				#{startTime},
			</if>
			<if test="reachTime != null">
				#{reachTime},
			</if>
			<if test="startAirport != null">
				#{startAirport},
			</if>
			<if test="targetAirport != null">
				#{targetAirport},
			</if>
			<if test="runway != null">
				#{runway},
			</if>
			<if test="airId != null">
				#{airId},
			</if>
			<if test="runway != null">
				#{firstClassCapacity},
			</if>
			<if test="runway != null">
				#{touristCapacity},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.cqut.bean.Flight">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		update flight
		<set>
			<if test="flightId != null">
				flight_id = #{flightId},
			</if>
			<if test="begin != null">
				begin = #{begin},
			</if>
			<if test="end != null">
				end = #{end},
			</if>
			<if test="startTime != null">
				start_time = #{startTime},
			</if>
			<if test="reachTime != null">
				reach_time = #{reachTime},
			</if>
			<if test="startAirport != null">
				start_airport = #{startAirport},
			</if>
			<if test="targetAirport != null">
				target_airport = #{targetAirport},
			</if>
			<if test="runway != null">
				runway = #{runway},
			</if>
			<if test="airId != null">
				airId,
			</if>
			<if test="firstClassCapacity != null">
				first_class_capacity,
			</if>
			<if test="touristCapacity != null">
				tourist_capacity,
			</if>
		</set>
		where id = #{id}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.cqut.bean.Flight">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sun Jul 24 
			13:40:49 CST 2016. -->
		update flight
		set flight_id = #{flightId},
		begin = #{begin},
		end = #{end},
		start_time = #{startTime},
		reach_time = #{reachTime},
		start_airport = #{startAirport},
		target_airport = #{targetAirport},
		runway = #{runway}
		airId = airId,
		first_class_capacity = firstClassCapacity,
		tourist_capacity = touristCapacity,
		where id = #{id}
	</update>


	<select id="select" resultMap="BaseResultMap">
		select
		<if test="parameters != null">
			${parameters}
		</if>
		<if test="parameters == null">
			*
		</if>
		from flight
		<if test="condition != null">
			where ${condition}
		</if>
		<if test="order != null and sort != null">
			order by ${order} ${sort}
		</if>
		<if test="offset != -1 and limit != -1">
			limit #{offset}, #{limit}
		</if>
	</select>
</mapper>